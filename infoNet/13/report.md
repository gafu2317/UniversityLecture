# 情報ネットワーク第13回レポート

<div style="text-align: right;">
2025年7月17日  
学籍番号：35714121  
名前：福富隆大  
<br>
<br>
</div>  


## コネクションの確⽴および終了まで

前提条件：

送信データ：5000バイト
最大IPパケット長：1040バイト
TCPヘッダ：20バイト、IPヘッダ：20バイト
最大TCPセグメントサイズ：1040 - 20 - 20 = 1000バイト
ウィンドウサイズ：2400バイト
端末Aの初期Seq：200、端末Bの初期Seq：300

セグメント分割：
5000バイトを1000バイトずつ分割 → 5セグメント
TCP通信の流れ：

### コネクションの確立（3-way handshake）
① A->B [SYN (Seq200, Ack000)]
② B->A [SYN, ACK (Seq300, Ack201)]
③ A->B [ACK (Seq201, Ack301)]

### データ転送

#### 第1ウィンドウ（2400バイト分）：
④ A->B [ACK (Seq201, Ack301)]     # 1000バイト
⑤ A->B [ACK (Seq1201, Ack301)]    # 1000バイト
⑥ A->B [ACK (Seq2201, Ack301)]    # 400バイト（2400バイト制限）
⑦ B->A [ACK (Seq301, Ack2601)]    # 確認応答（201+2400=2601）

#### 第2ウィンドウ（2400バイト分）：
⑧ A->B [ACK (Seq2601, Ack301)]    # 1000バイト
⑨ A->B [ACK (Seq3601, Ack301)]    # 1000バイト
⑩ A->B [ACK (Seq4601, Ack301)]    # 400バイト（2400バイト制限）
⑪ B->A [ACK (Seq301, Ack5001)]    # 確認応答（2601+2400=5001）

#### 第3ウィンドウ（残り600バイト）：
⑫ A->B [ACK (Seq5001, Ack301)]    # 200バイト（残り）
⑬ B->A [ACK (Seq301, Ack5201)]    # 最終確認応答（201+5000=5201）

### コネクションの終了（4-way handshake）
⑭ A->B [FIN, ACK (Seq5201, Ack301)]
⑮ B->A [ACK (Seq301, Ack5202)]
⑯ B->A [FIN, ACK (Seq301, Ack5202)]
⑰ A->B [ACK (Seq5202, Ack302)]
