まず、この学習支援AIの設計を考えてみましょう。

## 設計コンセプト

**「数学の探偵 - Math Detective AI」**

### 基本設計思想
- **分野**: 高校数学（微積分、代数、幾何）
- **ペルソナ**: 謎解きが好きな探偵キャラクター
- **アプローチ**: 問題を「謎」として捉え、段階的にヒントを提供

### アーキテクチャ設計

```
┌─────────────────┐
│   Web Interface │
├─────────────────┤
│ Session Manager │  ← 対話履歴・理解度管理
├─────────────────┤
│  Hint Engine    │  ← 段階的ヒント生成
├─────────────────┤
│ Knowledge Base  │  ← Web検索 + 事前知識
├─────────────────┤
│ Evaluation Core │  ← 正誤判定・評価指標
├─────────────────┤
│ Gemini API      │  ← LLM処理
└─────────────────┘
```

### 主要機能設計

1. **段階的ヒントシステム**
   - Level 1: 概念的ヒント
   - Level 2: 手法のヒント  
   - Level 3: 具体的手順ヒント

2. **理解度適応機能**
   - ユーザーの回答パターンから理解度を推定
   - 理解度に応じてヒントの詳細度を調整

3. **マルチモーダル対応**
   - 数式画像の認識（OCR）
   - グラフ・図形の解析
   - 手書き数式の認識

4. **評価指標**
   - ヒント効果率（最小ヒント数での正解率）
   - 学習進捗度（同類問題の改善率）
   - 自立解決率（ヒントなし正解率）

この設計で進めてよろしいでしょうか？それとも他の分野や設計アプローチをご希望でしょうか？